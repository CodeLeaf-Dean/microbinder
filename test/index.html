<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <link href="data:image/x-icon;base64,AAABAAEAEBAQAAAAAAAoAQAAFgAAACgAAAAQAAAAIAAAAAEABAAAAAAAgAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAEhEQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD//wAA//8AAP//AAD//wAA//8AAP//AAD//wAA//8AAP7/AAD//wAA//8AAP//AAD//wAA//8AAP//AAD//wAA" rel="icon" type="image/x-icon" />
  </head>
  <body>
    <h1>Tests</h1>

    <script type="module">
        import BindingContext from '/src/BindingContext.js'
        import MicroBinder from '/src/Compiler.js'

        var test1 = function(){
            var mb = new MicroBinder();
            var o = { name: 'object1' };
            o = mb.makeProxy(o);
            var changeCount = 0;

            var rootContext = new BindingContext(this, o);
            mb.bind(rootContext, function(){ return o.name; }, function(o,v){ 
                changeCount++;
             }, o.name);

            o.name = 'object2';
            console.log(changeCount);
        }

        debugger;

        test1();
    </script>
  </body>
</html>